{{- partial "head.html" . -}}
{{- partial "header.html" . -}}
  

  <header>
    <nav class="top-nav" aria-label="Primary">
  <a href="{{ .Site.BaseURL }}">Home</a>
  <a href="https://blackpiratex.com">Frontpage</a>
  <a href="https://status.blackpiratex.com" class="status-link">Status</a>
  <a href="https://notes.blackpiratex.com">Notes</a>
  <a href="https://gallery.blackpiratex.com">Gallery</a>
</nav>
    {{ with .Site.Params.description }}
      <p class="site-desc">{{ . }}</p>
    {{ end }}

    {{/* Stats */}}
    {{ $pages := .Site.RegularPages }}
    {{ $totalPosts := len $pages }}
    {{ $totalWords := 0 }}
    {{ range $pages }}{{ $totalWords = add $totalWords .WordCount }}{{ end }}

    <div class="stats">
      <span class="pill">Total posts: {{ $totalPosts }}</span>
      <span class="pill">Total words: {{ $totalWords }}</span>
      <span class="since">Since 2021.</span>
    </div>
  </header>


<iframe 
    src="https://guestbook.blackpiratex.com/widget.html" 
    width="100%" 
    height="60" 
    style="border:none; max-width: 468px; display:block; margin: 0 auto;" 
    title="Sudip's Guestbook Banner">
</iframe>

  <main class="list">
    {{ range .Site.RegularPages.ByDate.Reverse }}
      <article class="card">
        <div class="card-head">
          <div>
            <h2 class="title">
              <a href="{{ .RelPermalink }}">{{ .Title }}</a>
            </h2>
            <p class="summary">
              {{- /* Prefer .Summary; if empty, fallback to truncated plain text of .Content */ -}}
              {{- if .Summary -}}
                {{ .Summary | plainify | truncate 180 }}
              {{- else -}}
                {{ .Content | plainify | truncate 180 }}
              {{- end -}}
            </p>
          </div>

          <div>
            <div class="meta">{{ .Date.Format "January 02, 2006" }}</div>
            <div class="meta">{{ .WordCount }} words Â· {{ .ReadingTime }} min</div>
            <div class="tags">
              {{- with .Params.tags -}}
                {{- range . -}}
                  <a class="tag" href="{{ (printf "tags/%s" (urlize .)) | relLangURL }}">{{ . }}</a>
                {{- end -}}
              {{- end -}}
            </div>
          </div>
        </div>
      </article>
    {{ end }}
  </main>

  <footer>
    {{- partial "footer.html" . -}}
  </footer>

</body>
</html>